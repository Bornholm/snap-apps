<link rel="import" href="../../bower_components/polymer/polymer.html">
<polymer-element name="snap-widget" attributes="options">
  <template>
    <style>

      :host {
        display: block;
        height: 100%;
        width: 100%;
      }

      :host > #main {
        display: block;
      }

      :host > #edit {
        display: none;
      }

      :host > #tabs {
        display: block;
        margin: 0;
        padding: 0;
        list-style: none;
        height: 25px;
      }
      
      :host > #tabs li {
        display: inline-block;
      }

      :host([view-only]) > #tabs, :ancestor([view-only]) > #tabs {
        display: none;
      }

    </style>

    <ul id="tabs">
      <li><label>View<input type="radio" name="mode" checked="{{mode.view}}"></label></li>
      <li><label>Edit<input type="radio" name="mode" checked="{{mode.edit}}"></label></li>
    </ul>

    <content id="editPane" select="#edit"></content>
    <content id="viewPane" select="#view"></content>

  </template>
  <script>
    Polymer('snap-widget', {

      created: function() {
        this.mode = {
          view: true,
          edit: false
        };
      },

      observe: {
        'mode.view': 'togglePane',
        'mode.edit': 'togglePane'
      },

      togglePane: function() {
        var editPane = this.$.editPane.getDistributedNodes()[0];
        var viewPane = this.$.viewPane.getDistributedNodes()[0];
        if(this.mode.view) {
          editPane.style.display = 'none';
          viewPane.style.display = 'block';
        } else {
          editPane.style.display = 'block';
          viewPane.style.display = 'none';
        }
      }

    });
  </script>
</polymer-element>