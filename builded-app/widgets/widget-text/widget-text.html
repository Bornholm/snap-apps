<polymer-element name="widget-text" attributes="options">
  <template>
    <style>
      :host #textContainer {
        overflow-y: auto;
      }
    </style>
    <snap-widget name="Text">
      <div class="edit">
        <label>Content</label>
        <textarea value="{{text}}"></textarea>
      </div>
      <div id="textContainer" class="view"></div>
    </snap-widget>
  </template>
  <script type="text/javascript" src="vendor/marked.js"></script>
  <script>
    Polymer('widget-text', {

      text: '',

      textChanged: function() {
        this.$.textContainer.innerHTML = marked(this.text);
      },

      optionsChanged: function(oldOpts, newOpts) {
        if(newOpts && 'text' in newOpts) {
          this.text = newOpts.text;
        }
      },

      save: function() {

      }

    });
  </script>
</polymer-element>