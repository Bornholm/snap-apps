<polymer-element name="widget-text" attributes="options">
  <template>
    <style>
      :host #view {
        overflow-y: auto;
      }
    </style>
    <snap-widget>
      <div id="edit">
        <label>Content</label>
        <textarea value="{{text}}"></textarea>
      </div>
      <div id="view"></div>
    </snap-widget>
  </template>
  <script type="text/javascript" src="vendor/marked.js"></script>
  <script>
    Polymer('widget-text', {

      text: '',

      textChanged: function() {
        this.$.view.innerHTML = marked(this.text);
      },

      optionsChanged: function(oldOpts, newOpts) {
        if(newOpts && 'text' in newOpts) {
          this.text = newOpts.text;
        }
      },

      save: function() {

      }

    });
  </script>
</polymer-element>